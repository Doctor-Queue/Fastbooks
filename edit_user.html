<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"  crossorigin="anonymous"></script>

    <link rel="stylesheet" type="text/css" href="WebNavBar.css" />
</head>
<body>


<!-- Our software brand and Logo is here-->
    <div id="Band">
        <h2> <img src="app_logo.png" id="Logo"> <font size="+1.50">  <center>  Welcome Admin! </center>  </font></h2>
    </div>
<br> </br>
<center>
  

<br>
<input id="searchUser" type="text"> <br><br>
<button id="searchUserBtn"> Search User</button>
<br> <br> <br> <br> <br>

<style> #tab1{display: inline-block; margin-left: 10px;} </style>
Name: <input type="text" id="findUserName" value=""> <span id="tab1"> </span>
ID: <input type="text" id="findUserID" value=""> <span id="tab1"> </span>
Position: <input type="text"  id="findUserPosition" value=""> <span id="tab1"> </span>
DOB <input type="text"  id="findUserDOB" value=""> 
<!-- <p id ="buttonPlace" type="button"></p> -->
<br>

<button id="updateUserBtn"> UPDATE</button> 

</center>
  <br>
  <!-- <p id="findUserName" type="text"></p> -->

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.11.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.11.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyCLeXpBcmY50646HWq9RkVjf2tNcPSfXCA",
      authDomain: "appdomain-5bc76.firebaseapp.com",
      databaseURL: "https://appdomain-5bc76-default-rtdb.firebaseio.com",
      projectId: "appdomain-5bc76",
      storageBucket: "appdomain-5bc76.appspot.com",
      messagingSenderId: "854714021617",
      appId: "1:854714021617:web:3631bc9729ca4d87d49b50",
      measurementId: "G-721Y65S2FV"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    //Everything above this is firebase config, I know nothing about it 
    //take this comment off 
    import {getDatabase, set, get, update, remove, ref, child}
    from "https://www.gstatic.com/firebasejs/9.11.0/firebase-database.js"

    const db = getDatabase();
    //This is a text field
    var enterUser = document.querySelector("#searchUser");
   
    //these are not assigned. but are text fields
    //var findUserID = document.querySelector("#findUserID");
    
    var findUserName = document.querySelector("#findUserName");
    var findUserPosition = document.querySelector("#findUserPosition");
    var findUserID = document.querySelector("#findUserID");
    var findUserDOB = document.querySelector("#findUserDOB");

    //This is a button 
    var searchUserBtn = document.querySelector("#searchUserBtn");
    var updateUserBtn = document.querySelector("#updateUserBtn");
   
    function FindData()
    {
      //because you're referencing to a spcific reference in database
      const dbref= ref(db);
      get(child(dbref, "Users/"+ enterUser.value))
      .then((snapshot)=>{
        if(snapshot.exists())
        {  
          findUserName.value= snapshot.val().Name;
          findUserPosition.value = snapshot.val().Position;
          findUserID.value = snapshot.val().ID;
          findUserDOB.value = snapshot.val().Date;
        }
        else
        {
          alert("No Data Found!");
        }
      })
      .catch((error)=>{alert(error)})
    }

    function UpdateData()
    {
    

    }
    searchUserBtn.addEventListener('click', FindData);
    updateUserBtn.addEventListener('click', UpdateData);
  </script>

</body>
</html>


<!-- ADDITIONAL INFO
    EXAMPLE:
<section>
    <b> <font size="+2.0"> <center>Lena Tory </center> </font>  </b>
    <br> </br>
    <img src="person1.png" id="ProfilePics">
    <p> Name: <input type="text" placeholder="Lena Tory">
        <br> Role: <input type="text" placeholder="Software Engineer"></br>
        Start Date:
        <br> Status: <input type="radio" id="status_active"> <label id="status_active"> Active </label>
        <input type="radio" id="status_deactive"> <label id="status_deactive"> Deactive </label>
        </br>
        Instituition: Don's Dynamite
    </p>
</section>
<button class="button dem" onclick="location.href='user_selected.html'"> Save </button>
-->



  <!-- MAYBE NOT NEEDED
<form action="display.html" method="get">
        <input type="text" name="serialNumber" />
        <input type="submit" value="Submit" />
</form>



<button id="buttonPlace" onclick="location.href='user_selected.html'""> UPDATE</button> 

in firebase: 
 var buttonPlace = document.querySelector("#buttonPlace");
 inside function FindData: 
            buttonPlace.innerHTML = snapshot.val().Name;

-->